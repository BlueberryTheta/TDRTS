<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>TDRTS â€“ WW2 CTF (Prototype)</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div id="app">
      <div id="left">
        <canvas id="gameCanvas" width="640" height="640"></canvas>
      </div>
      <div id="right">
        <h1>TDRTS</h1>
        <div id="status">
          <div>Current Player: <span id="currentPlayer">1</span></div>
          <div>Money: $<span id="money">0</span></div>
          <div>Turn: <span id="turn">1</span></div>
          <div>Timer: <span id="timer">20.0</span>s</div>
        </div>
        <hr />
        <div id="shop" class="panel">
          <h2 style="margin-top:0">Requisitions</h2>
          <div class="shop-section-title">Units</div>
          <div class="shop-grid">
            <button class="shop-item" data-unit="Infantry"><span class="thumb"></span><span class="label">Infantry</span><span class="price">$50</span></button>
            <button class="shop-item" data-unit="Tank"><span class="thumb"></span><span class="label">Tank</span><span class="price">$100</span></button>
            <button class="shop-item" data-unit="Artillery"><span class="thumb"></span><span class="label">Artillery</span><span class="price">$120</span></button>
            <button class="shop-item" data-unit="Engineer"><span class="thumb"></span><span class="label">Engineer</span><span class="price">$60</span></button>
            <button class="shop-item" data-unit="Officer"><span class="thumb"></span><span class="label">Officer</span><span class="price">$80</span></button>
            <button class="shop-item" data-unit="Medic"><span class="thumb"></span><span class="label">Medic</span><span class="price">$70</span></button>
            <button class="shop-item" data-unit="Scout"><span class="thumb"></span><span class="label">Scout</span><span class="price">$60</span></button>
            <button class="shop-item" data-unit="MechanizedInfantry"><span class="thumb"></span><span class="label">Mechanized Infantry</span><span class="price">$120</span></button>
          </div>
          <div class="shop-section-title" style="margin-top:10px">Fortifications</div>
          <div class="shop-grid">
            <button class="shop-item" data-fort="Pillbox"><span class="thumb"></span><span class="label">Pillbox</span><span class="price">$80</span></button>
            <button class="shop-item" data-fort="Bunker"><span class="thumb"></span><span class="label">Bunker</span><span class="price">$120</span></button>
            <button class="shop-item" data-fort="BarbedWire"><span class="thumb"></span><span class="label">Barbed Wire</span><span class="price">$30</span></button>
          </div>
          <div class="hint">Buy and place near base, or Engineers can build adjacent.</div>
        </div>
        <hr />
        <div id="actions" class="panel">
          <h2>Actions</h2>
          <button id="endTurn">End Turn</button>
          <div class="hint">Select a unit to move/attack. Click an enemy to attack if in range.</div>
        </div>
        <hr />
        <div id="unitPanel" class="panel">
          <h2 style="margin-top:0">Selected Unit</h2>
          <div id="unitNone" class="hint">No unit selected.</div>
          <div id="unitInfo" style="display:none">
            <div class="stat-row"><strong id="unitName"></strong> <span id="unitOwner" class="hint"></span> <span id="unitRankBadge" class="badge" style="margin-left:auto">Private</span></div>
            <div class="stat-row"><span style="width:40px">HP</span><div id="unitHpBar" class="bar"><div class="bar-fill" style="width:0%"></div></div><span id="unitHP" class="hint"></span></div>
            <details class="accordion">
              <summary>Details</summary>
              <div id="unitStats">ATK: -, DEF: -, MOVE: -, RNG: -, SIGHT: -</div>
              <div id="unitXP">XP: 0 (<span id="unitRank">Private</span>)</div>
              <div id="unitAbilities">Abilities: -</div>
            </details>
          </div>
        </div>
        <hr />
        <details id="legend" class="panel accordion">
          <summary>Legend</summary>
          <div class="legend-row"><span class="legend-swatch p1"></span> Player 1 Units</div>
          <div class="legend-row"><span class="legend-swatch p2"></span> Player 2 Units</div>
          <div class="legend-row"><span class="legend-swatch base"></span> Base (Flag starts here)</div>
          <div class="legend-row"><span class="legend-swatch flag"></span> Flag</div>
          <div class="legend-row"><span class="legend-swatch spawn"></span> Spawn Tiles</div>
          <div class="legend-row"><span class="legend-swatch fort"></span> Fortification</div>
          <div class="legend-row"><span class="legend-swatch move"></span> Move Range</div>
          <div class="legend-row"><span class="legend-swatch atk"></span> Attack Range</div>
        </details>
        <hr />
        <details id="help" class="panel accordion">
          <summary>How To Play</summary>
          <ul>
            <li>Two players take turns on the same device.</li>
            <li>Earn $60 each turn. Buy units and spawn near your base.</li>
            <li>Select your unit, click a highlighted tile to move.</li>
            <li>Click an enemy in range to attack.</li>
            <li>Capture the enemy flag by moving onto it, then bring it back to your base.</li>
          </ul>
        </details>
      </div>
    </div>
    <script type="module" src="src/main.js"></script>
  </body>
  </html>
